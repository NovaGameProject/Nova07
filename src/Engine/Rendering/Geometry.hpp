#pragma once
#include <vector>
#include <SDL3/SDL_gpu.h>

#include "Common/MathTypes.hpp"

namespace Nova {
    struct Vertex {
        Vector3 pos;
        Vector3 normal;
    };

    struct Mesh {
        std::vector<Vertex> vertices;
        std::vector<uint32_t> indices;
    };

    class Geometry {
    public:
        static Mesh CreateCube() {
            Mesh mesh;
            // 36 vertices for flat shading (6 faces * 2 triangles * 3 verts)
            mesh.vertices = {
                // Front face (Z+)
                {{-0.5f, -0.5f,  0.5f}, {0, 0, 1}}, {{ 0.5f, -0.5f,  0.5f}, {0, 0, 1}}, {{ 0.5f,  0.5f,  0.5f}, {0, 0, 1}},
                {{ 0.5f,  0.5f,  0.5f}, {0, 0, 1}}, {{-0.5f,  0.5f,  0.5f}, {0, 0, 1}}, {{-0.5f, -0.5f,  0.5f}, {0, 0, 1}},
                // Back face (Z-)
                {{-0.5f, -0.5f, -0.5f}, {0, 0, -1}}, {{-0.5f,  0.5f, -0.5f}, {0, 0, -1}}, {{ 0.5f,  0.5f, -0.5f}, {0, 0, -1}},
                {{ 0.5f,  0.5f, -0.5f}, {0, 0, -1}}, {{ 0.5f, -0.5f, -0.5f}, {0, 0, -1}}, {{-0.5f, -0.5f, -0.5f}, {0, 0, -1}},
                // Left face (X-)
                {{-0.5f,  0.5f,  0.5f}, {-1, 0, 0}}, {{-0.5f,  0.5f, -0.5f}, {-1, 0, 0}}, {{-0.5f, -0.5f, -0.5f}, {-1, 0, 0}},
                {{-0.5f, -0.5f, -0.5f}, {-1, 0, 0}}, {{-0.5f, -0.5f,  0.5f}, {-1, 0, 0}}, {{-0.5f,  0.5f,  0.5f}, {-1, 0, 0}},
                // Right face (X+)
                {{ 0.5f,  0.5f,  0.5f}, {1, 0, 0}}, {{ 0.5f, -0.5f,  0.5f}, {1, 0, 0}}, {{ 0.5f, -0.5f, -0.5f}, {1, 0, 0}},
                {{ 0.5f, -0.5f, -0.5f}, {1, 0, 0}}, {{ 0.5f,  0.5f, -0.5f}, {1, 0, 0}}, {{ 0.5f,  0.5f,  0.5f}, {1, 0, 0}},
                // Top face (Y+)
                {{-0.5f,  0.5f, -0.5f}, {0, 1, 0}}, {{-0.5f,  0.5f,  0.5f}, {0, 1, 0}}, {{ 0.5f,  0.5f,  0.5f}, {0, 1, 0}},
                {{ 0.5f,  0.5f,  0.5f}, {0, 1, 0}}, {{ 0.5f,  0.5f, -0.5f}, {0, 1, 0}}, {{-0.5f,  0.5f, -0.5f}, {0, 1, 0}},
                // Bottom face (Y-)
                {{-0.5f, -0.5f, -0.5f}, {0, -1, 0}}, {{ 0.5f, -0.5f, -0.5f}, {0, -1, 0}}, {{ 0.5f, -0.5f,  0.5f}, {0, -1, 0}},
                {{ 0.5f, -0.5f,  0.5f}, {0, -1, 0}}, {{-0.5f, -0.5f,  0.5f}, {0, -1, 0}}, {{-0.5f, -0.5f, -0.5f}, {0, -1, 0}}
            };
            return mesh;
        }
    };
}
